angular.module("templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("acls.html","<h3>ACL Rules</h3>\n\n<div class=\"row atlas-list-header atlas-list-line\">\n	<div class=\"col-md-3\">Marathon App</div>\n	<div class=\"col-md-3\">ACL</div>\n	<div class=\"col-md-3\">Instances</div>\n	<div class=\"col-md-3 atlas-list-opts pull-right\" >\n	<button  type=\"button\" ng-click=\"refresh()\" class=\"glyphicon glyphicon-refresh btn btn-default\" alt=\"update list\"></button>\n	<button  type=\"button\" ng-click=\"applyConfiguration()\" class=\"glyphicon glyphicon-import btn btn-default\" alt=\"apply configuration\"></button>\n	</div>\n</div>\n<div ng-repeat=\"rule in rules\">\n	<div class=\"row  atlas-list-line\" ng-class=\"{\n		\'atlas-list-mis-app\': rule.discovery==\'missing\',\n		\'atlas-list-active-app\': rule.acl != \'\'\n		}\">\n		<div class=\"col-md-3\">{{rule.appId}}</div>\n		<div class=\"col-md-3\">{{rule.acl}}</div>\n		<div class=\"col-md-3\">{{rule.instances}}</div>\n		<div class=\"col-md-3 atlas-list-opts pull-right\">\n			<span ng-show=\"rule.discovery ==\'missing\'\">Missing application </span> \n			\n			<span ng-show=\"rule.discovery== \'missing\'\" data-toggle=\"modal\" data-target=\"#removeRule\" class=\"btn btn-danger glyphicon glyphicon-trash\" ng-click=\"selectRule(rule)\"></span>\n			\n			<span ng-show=\"rule.acl==\'\'\" data-toggle=\"modal\" data-target=\"#edit\" class=\"btn btn-success glyphicon glyphicon-plus\" ng-click=\"selectRule(rule)\"></span>\n			\n			<span ng-show=\"rule.acl!=\'\' && rule.discovery!= \'missing\' \" data-toggle=\"modal\" data-target=\"#edit\" class=\"btn btn-primary glyphicon glyphicon-edit\" ng-click=\"selectRule(rule)\"></span> \n			<span ng-show=\"rule.acl!=\'\' && rule.discovery!= \'missing\' \" data-toggle=\"modal\" data-target=\"#removeAcl\" class=\"btn btn-danger glyphicon glyphicon-trash\" ng-click=\"selectRule(rule)\"></span>\n			\n		</div>\n	</div>\n</div>\n		\n		\n<div id=\"edit\" class=\"modal fade\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n        <h4 class=\"modal-title\">Service configuration</h4>\n      </div>\n      <div class=\"modal-body\">\n	    <div class=\"inner-form\">\n        <div class=\"form-group\">\n            <label>Marathon ID</label>\n            <input ng-model=\"rule.appId\" readonly=\"readonly\" class=\"form-control\">\n        </div>\n        <div class=\"form-group\">\n            <label>ACL</label>\n            <p class=\"help-block\">\n                Enter HAProxy acl\'s criterion, flag and operator (<a target=\"_blank\" href=\"http://cbonte.github.io/haproxy-dconv/configuration-1.5.html#7\">acl documentation</a>), for example: <br>\n                DNS approach: <code>hdr(host) -i app.example.com</code> <br>\n                Path prefix: <code>path_beg -i /app-group/app1</code>\n            </p>\n            <div class=\"input-group\">\n                <div class=\"input-group-addon\">acl &lt;aclname&gt;</div>\n                	<input id=\"inputacl\" ng-model=\"rule.acl\" type=\"text\" class=\"form-control\" name=\"input\"  placeholder=\"hdr(host) -i app.example.com\" required=\"required\">\n            	</div>\n        	</div>\n    	</div>\n	  </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" ng-click=\"confirmEditAcl()\" class=\"btn btn-primary\">Save changes</button>\n      </div>\n    </div><!-- /.modal-content -->\n  </div><!-- /.modal-dialog -->\n</div><!-- /.modal -->\n\n<div id=\"removeRule\" class=\"modal fade\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n        <h4 class=\"modal-title\">Confirm remove rule?</h4>\n      </div>\n      <div class=\"modal-body\">\n        <p>Marathon {{rule.appId}} does not found, confirm remove rule ?</p>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancel</button>\n        <button type=\"button\" ng-click=\"confirmRemove()\" class=\"btn btn-danger\">Remove</button>\n      </div>\n    </div><!-- /.modal-content -->\n  </div><!-- /.modal-dialog -->\n</div><!-- /.modal -->\n\n<div id=\"removeAcl\" class=\"modal fade\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n        <h4 class=\"modal-title\">Confirm remove ACL?</h4>\n      </div>\n      <div class=\"modal-body\">\n        <p>Marathon {{rule.appId}} is assigned from acl is {{rule.acl}}, confirm remove?</p>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancel</button>\n        <button type=\"button\" ng-click=\"confirmRemove()\" class=\"btn btn-danger\">Remove</button>\n      </div>\n    </div><!-- /.modal-content -->\n  </div><!-- /.modal-dialog -->\n</div><!-- /.modal -->\n");
$templateCache.put("template.html","<h3>Template script</h3>\n\n<div class=\"row \">\n	<div class=\"col-md-6\">\n		<div class=\"atlas-editor\"\n			ui-ace=\"{\n       \n       	  require: [\'ace/ext/language_tools\'],\n		  advanced: {\n		      enableSnippets: true,\n		      enableBasicAutocompletion: true,\n		      enableLiveAutocompletion: true\n		  },\n          mode: \'javascript\',\n          theme: \'tomorrow_night\',\n          useWrapMode: true\n      }\"\n			ng-model=\"script\"></div>\n	</div>\n\n\n	<div class=\"col-md-6\">\n						<button class=\"btn btn-primary\" ng-click=\"testScript()\"> <i class=\"glyphicon glyphicon-play \"></i> Test\n						script</button>\n						\n						<button class=\"btn btn-success\" ng-click=\"saveScript()\"><i class=\"glyphicon glyphicon-save-file \"></i>  Save Script</button>\n	<p/>\n		<div role=\"tabpanel\">\n\n			<!-- Nav tabs -->\n			<ul class=\"nav nav-tabs\" role=\"tablist\">\n				<li role=\"presentation\" class=\"active\"><a href=\"#script\"\n					aria-controls=\"script\" role=\"tab\" data-toggle=\"tab\">Script</a></li>\n				<li role=\"presentation\"><a href=\"#help\" aria-controls=\"help\"\n					role=\"tab\" data-toggle=\"tab\">Help</a></li>\n			</ul>\n\n			<!-- Tab panes -->\n			<div class=\"tab-content\">\n				<div role=\"tabpanel\" class=\"tab-pane active\" id=\"script\">\n\n					<h4>Output script:</h4>\n					<pre ng-app>{{outScript}}\n					</pre>\n\n				</div>\n				<div role=\"tabpanel\" class=\"tab-pane\" id=\"help\">\n					<h4>Help</h4>\n					\n\n<p>Template is based javascript language in nashorn (java).<br />\nPrincipal variables injected in script:</p>\n\n<ul>\n	<li>â€‹atlasAcls - string containing json encoded with acl defined in atlas application</li>\n	<li>marathonApps - string containing json encoded with marathon applications -http://&lt;marathonUrl&gt;/v2/apps</li>\n	<li>marathonTasks - string contains json encoded with marathon tasks -&nbsp;<span style=\"line-height: 20.7999992370605px;\">http://&lt;marathonUrl&gt;</span><span style=\"line-height: 20.7999992370605px;\">/v2/tasks</span></li>\n	<li><span style=\"line-height: 20.7999992370605px;\">config -&nbsp;</span>object responsible for writing the configuration, it offers the println method (print new line), and print method, to write the file to be used as template.</li>\n</ul>\n\n<p>Use all power of javascript with nashorn to create and compose your custom template for haproxy.</p>\n					\n					\n					\n				</div>\n			</div>\n\n		</div>\n	</div>\n</div>\n\n");}]);